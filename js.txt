<!-- form.html -->
<form id="itemForm">
  <input type="text" id="itemInput" placeholder="Enter item name" />
  <button type="submit">Add</button>
  <p id="errorMsg" style="color:red; font-size:14px;"></p>
</form>

<ul id="itemList"></ul>

<script>
  const form = document.getElementById("itemForm");
  const input = document.getElementById("itemInput");
  const errorMsg = document.getElementById("errorMsg");
  const itemList = document.getElementById("itemList");

  let items = []; 

  
  function validateItem(name) {
    
    name = name.trim();

    
    if (name.length === 0) {
      return "⚠️ لا يمكن ترك الحقل فارغ.";
    }

    if (/\s{2,}/.test(name)) {
      return "⚠️ لا يُسمح بمسافتين متتاليتين.";
    }

    // شرط: منع التكرار (case-insensitive)
    if (items.some(item => item.toLowerCase() === name.toLowerCase())) {
      return "⚠️ هذا الاسم مكرر.";
    }

    return null; 
  }

  
  form.addEventListener("submit", function (e) {
    e.preventDefault();
    const name = input.value;

    const error = validateItem(name);
    if (error) {
      errorMsg.textContent = error;
      return;
    }

    
    items.push(name);
    const li = document.createElement("li");
    li.textContent = name;
    itemList.appendChild(li);

    
    input.value = "";
    errorMsg.textContent = "";
  });
</script>